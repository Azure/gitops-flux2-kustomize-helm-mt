apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: podinfo
  namespace: cluster-config
spec:
  chart:
    spec:
      version: "6.3.2"
  test:
    enable: false
  values:
    ingress:
      annotations:
        # kubernetes.io/ingress.class: azure/application-gateway
        # appgw.ingress.kubernetes.io/rewrite-rule-set: rr-e1903c8aa3446b7b3207aec6d6ecba8a
        kubernetes.io/ingress.class: addon-http-application-routing
      hosts:
        - host: podinfoproduction.insiders-c-insiders-cafe-ar-cd7514-15d73cad.hcp.westeurope.azmk8s.io
          paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: podinfo
                port:
                  number: 80
          # # paths:
          # #   - path: /
          # #     backend:
          # #       name: podinfo
          # #       port:
          # #         number: 8989
          # #     pathType: Exact
          # paths:
          #   - path: /
          #     pathType: ImplementationSpecific          