apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: podinfo
  namespace: cluster-config
spec:
  chart:
    spec:
      version: "6.3.3"
  test:
    enable: false
  values:
    ingress:
      # className: "azure\/application-gateway"
      annotations:
        kubernetes.io/ingress.class: azure/application-gateway
        # appgw.ingress.kubernetes.io/rewrite-rule-set: rr-e1903c8aa3446b7b3207aec6d6ecba8a
      hosts:
        - hosts: podinfo.production
          paths:
            - path: /
              backend:
                name: podinfo
                port:
                  number: 8989
              pathType: Exact